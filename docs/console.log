Script started on Wed 04 Oct 2023 03:46:30 PM UTC
]0;root@centos1:~/NetApp-ONTAP-Testplan/scripts[?1034h[root@centos1 scripts]# ll
total 104
-rw-r--r-- 1 root root 16551 Oct  3 16:05 [0m[38;5;9mAutomation_Artifcats.zip[0m
-rw-r--r-- 1 root root  2590 Oct  3 16:05 change_volsize.py
-rw-r--r-- 1 root root     0 Oct  4 15:46 console.log
-rw-r--r-- 1 root root  2168 Oct  3 16:05 create_snap.py
-rw-r--r-- 1 root root  6850 Oct  3 16:05 create_svms.yml
-rw-r--r-- 1 root root  2237 Oct  3 16:05 delete_svms.yml
-rw-r--r-- 1 root root  5777 Oct  3 16:05 qtree_operations.py
-rw-r--r-- 1 root root  8641 Oct  3 16:05 quota_operations.py
-rw-r--r-- 1 root root   807 Oct  3 16:37 README.md
-rw-r--r-- 1 root root  5989 Oct  3 16:05 snapshot_operations.py
-rw-r--r-- 1 root root 15399 Oct  3 16:05 utils.py
-rw-r--r-- 1 root root 14025 Oct  3 16:05 volume_operations.py
]0;root@centos1:~/NetApp-ONTAP-Testplan/scripts[root@centos1 scripts]# pwd
/root/NetApp-ONTAP-Testplan/scripts
]0;root@centos1:~/NetApp-ONTAP-Testplan/scripts[root@centos1 scripts]# [K[root@centos1 scripts]# cd ..
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls
ansible.cfg  [0m[38;5;27minit[0m  [38;5;27minventories[0m  [38;5;27mplaybooks[0m  README.md  [38;5;27mscripts[0m  [38;5;27mvars[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ansible-playbook -i inventories/labondemand/[K playbooks/ONTAP-1[K00[K1-04.yml 

PLAY [ONTAP-01-04 - Ansible] ***********************************************************************************************************************************************************************************************************************************************************************************************

TASK [Print hosts and inventory source] ************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": "cluster1.demo.netapp.com from /root/NetApp-ONTAP-Testplan/inventories/labondemand"[0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": "cluster2.demo.netapp.com from /root/NetApp-ONTAP-Testplan/inventories/labondemand"[0m
[0;32m}[0m

TASK [Get ONTAP version info] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Print ONTAP version info] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        {[0m
[0;32m            "changed": false,[0m
[0;32m            "failed": false,[0m
[0;32m            "ontap_info": {[0m
[0;32m                "cluster_software": {[0m
[0;32m                    "_links": {[0m
[0;32m                        "self": {[0m
[0;32m                            "href": "/api/cluster/software"[0m
[0;32m                        }[0m
[0;32m                    },[0m
[0;32m                    "nodes": [[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster1-01",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        },[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster1-02",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        }[0m
[0;32m                    ][0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        }[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        {[0m
[0;32m            "changed": false,[0m
[0;32m            "failed": false,[0m
[0;32m            "ontap_info": {[0m
[0;32m                "cluster_software": {[0m
[0;32m                    "_links": {[0m
[0;32m                        "self": {[0m
[0;32m                            "href": "/api/cluster/software"[0m
[0;32m                        }[0m
[0;32m                    },[0m
[0;32m                    "nodes": [[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster2-01",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        },[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster2-02",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        }[0m
[0;32m                    ][0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        }[0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;32mcluster2[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time !!
time ansible-playbook -i inventories/labondemand playbooks/ONTAP-01-04.yml 

PLAY [ONTAP-01-04 - Ansible] ***********************************************************************************************************************************************************************************************************************************************************************************************

TASK [Print hosts and inventory source] ************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": "cluster1.demo.netapp.com from /root/NetApp-ONTAP-Testplan/inventories/labondemand"[0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": "cluster2.demo.netapp.com from /root/NetApp-ONTAP-Testplan/inventories/labondemand"[0m
[0;32m}[0m

TASK [Get ONTAP version info] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Print ONTAP version info] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        {[0m
[0;32m            "changed": false,[0m
[0;32m            "failed": false,[0m
[0;32m            "ontap_info": {[0m
[0;32m                "cluster_software": {[0m
[0;32m                    "_links": {[0m
[0;32m                        "self": {[0m
[0;32m                            "href": "/api/cluster/software"[0m
[0;32m                        }[0m
[0;32m                    },[0m
[0;32m                    "nodes": [[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster1-01",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        },[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster1-02",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        }[0m
[0;32m                    ][0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        }[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        {[0m
[0;32m            "changed": false,[0m
[0;32m            "failed": false,[0m
[0;32m            "ontap_info": {[0m
[0;32m                "cluster_software": {[0m
[0;32m                    "_links": {[0m
[0;32m                        "self": {[0m
[0;32m                            "href": "/api/cluster/software"[0m
[0;32m                        }[0m
[0;32m                    },[0m
[0;32m                    "nodes": [[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster2-01",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        },[0m
[0;32m                        {[0m
[0;32m                            "name": "cluster2-02",[0m
[0;32m                            "version": "Lighthouse__9.13.1"[0m
[0;32m                        }[0m
[0;32m                    ][0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        }[0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;32mcluster2[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m2.157s
user	0m2.019s
sys	0m0.357s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-01-04.yml [1P [1P [1P [1P [1P [1P [1P [1P [1P 1 9 - [1P [1P 0 - * 

PLAY [ONTAP-10-01 - Licenses] **********************************************************************************************************************************************************************************************************************************************************************************************

TASK [Install licenses on storage cluster] *********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;32mcluster2[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-02 - Physical Network] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create broadcast domains on storage cluster] *************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=bc_data)[0m
[0;33mchanged: [cluster2] => (item=bc_data)[0m

TASK [Create interface groups on storage cluster] **************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m

TASK [Configure default network route on storage cluster] ******************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-10-03.yml, line 40, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-10-03 - Network Services] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create DNS config on storage cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest: always to your playbook.  More[0m
[1;35minformation can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Create NTP server on storage cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=0.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=0.us.pool.ntp.org)[0m
[1;30mFAILED - RETRYING: [cluster2]: Create NTP server on storage cluster (5 retries left).[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (5 retries left).[0m
[0;33mchanged: [cluster2] => (item=1.us.pool.ntp.org)[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (4 retries left).[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (3 retries left).[0m
[0;33mchanged: [cluster1] => (item=1.us.pool.ntp.org)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-04 - Storage Aggregates] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create data aggregates on storage cluster] ***************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:cluster2_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:cluster1_02_aggr01)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-05 - AutoSupport] *******************************************************************************************************************************************************************************************************************************************************************************************

TASK [Send Test AutoSupport (Call Home)] ***********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


real	1m33.155s
user	0m20.262s
sys	0m3.238s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-10-* [1P[1@1

PLAY [ONTAP-11-01 - Cluster/Node Parameters] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Set timezone on storage cluster] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Create login banner and message of the day (MOTD) on storage cluster] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m
[0;33mchanged: [cluster1] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=2   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=2   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-11-02.yml, line 18, column 3, found a duplicate dict key (post_tasks). Using last defined value only.[0m

PLAY [ONTAP-11-02 - Administrative Domain Authentication] ******************************************************************************************************************************************************************************************************************************************************************

TASK [Check if any domain tunnel exists] ***********************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m

TASK [Show all domain tunnel svms] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create SVM for domain tunnel (proxy)] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m

TASK [Create network interfaces on proxy SVM] ******************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'scope': 'svm', 'svm': {'name': 'cluster2_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.220', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'scope': 'svm', 'svm': {'name': 'cluster1_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.210', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'scope': 'svm', 'svm': {'name': 'ntap-svm01-nas'}, 'ip': {'netmask': '24', 'address': '192.168.0.211', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'scope': 'svm', 'svm': {'name': 'ntap-svm03-backup'}, 'ip': {'netmask': '24', 'address': '192.168.0.221', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.123', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.124', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'scope': 'svm', 'svm': {'name': 'ntap-svm02-san'}, 'ip': {'netmask': '24', 'address': '192.168.0.212', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.121', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.122', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m

TASK [Configure default route on proxy SVM] ********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Configure DNS on proxy SVM] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m

TASK [Create active directory preferred domain controllers] ****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m

TASK [Create CIFS server on SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'svm': {'name': 'cluster1_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'svm': {'name': 'cluster2_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster2] => (item={'name': 'svm03-backup', 'svm': {'name': 'ntap-svm03-backup'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is the default NAS backup location', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm01-nas', 'svm': {'name': 'ntap-svm01-nas'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary NAS SVM', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm02-san', 'svm': {'name': 'ntap-svm02-san'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary SAN SVM', 'enabled': True}) [0m

TASK [Patch additional SVM CIFS parameters - comment] **********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm02-san) [0m

TASK [Create domain tunnel for cluster AD authentication] ******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=10  [0m [0;33mchanged=9   [0m unreachable=0    failed=0    [0;36mskipped=2   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-11-03 - Key Manager] *******************************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure onboard Key Manager] ***************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Get all non-root aggregates] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Enable aggregate encryption on all aggregates] ***********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_01_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1_02_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_02_aggr01)[0m

TASK [Get key manager configuration and backup] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Display key manager configuration and backup] ************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/79255b93-62d0-11ee-a847-005056ab483e"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAACxvCWqAAAAACEAAAAAAAAAQAAAAAAAAACajQ70AAAAALO3kJk987V/DMnleRx0YEf+FzpfyEXQ6Ksxq7en9fT9o7X6Gwgn1Yc1iCyOYUDP3oQh0ZCnIEpl/oi9l/OOoOciAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAADdqIU0AAAAAO5vusocRWefH6MvFWPMyKuPOFyeWF+DNB5VhetRvD3Z/N/4o3mxlnAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAADIuljkAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAADAoT6cAAAAAAAAAAAAAAAAAgAAAAAAAQDCEXeP9MCrclmuKLYu3L2/AAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAA/gyt5gAAAACXQObNRocQKI5U6opwptOfFHc7UUq4WUcVq6WP2ox8AkTBlvUSInFJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAoXHjpAAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAFe0LeQAAAAAAAAAAAAAAAACAAAAAAABAPE3etBtbBuR7ZtAKsoU2Z8AAAAAAAAAACQAAAAAAAAAgAAAAAAAAADICjs6AAAAAAyEEjfH0O/gqB46aK01SKgJYTdr+R1aaa9hmyLKtN8x1cPE3fFyD9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "79255b93-62d0-11ee-a847-005056ab483e",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/791bfaa5-62d0-11ee-8d2e-005056abdd29"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAAAMXI9/AAAAACEAAAAAAAAAQAAAAAAAAACZTTSGAAAAAMFgAnMGnET8PB/GTLCzOcXlomWX59Oo6YVvBhMLz8EWqy4iSij53KZ/jy1jjRqp/DtZ96PVx6lU4exeBvCHpYEiAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAADhao+xAAAAACtKfAtCI5XR97/i7bsKqUiMWFXGjt7iXo4AjpJoLksX8KoRykBOH8kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAAMfZN8AAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAADn4LtwAAAAAAAAAAAAAAAAAgAAAAAAAQB/wla7M7AyHDihdN+OmP7dAAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAAp1vtLQAAAADc4yxXGWEw1KWRphavavaV/U+GOCE/Vg4ThLqw+JjI5GpxYNNTV7yYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAHLR13gAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAANBviUAAAAAAAAAAAAAAAAACAAAAAAABALdvaV3SBpKs3qlmOqxQq7wAAAAAAAAAACQAAAAAAAAAgAAAAAAAAACAooXOAAAAAIw++HiS33Dr2urz3UWAwAQ0ZSz9DdqCcAJtCcrhhiOlvK1eJZ+xMI0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "791bfaa5-62d0-11ee-8d2e-005056abdd29",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    [0;36mskipped=2   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=14  [0m [0;33mchanged=10  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m


real	0m31.240s
user	0m17.447s
sys	0m3.167s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-11-* [1P[1@2

PLAY [ONTAP-12-01 - Read-only Local User] **********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-12-02 - Administrative Local User] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=2   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=2   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-12-03 - Local User Access] *************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ******************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] **************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] **********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Clean-up test SVM with admin account] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   
[0;33mcluster2[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   


PLAY [ONTAP-12-04 - Read-only Domain Group] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Assign domain group read-only privileges on cluster] *****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   
[0;33mcluster2[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   


PLAY [ONTAP-12-05 - Administrative Domain Group] ***************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   
[0;33mcluster2[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m [0;32mrescued=1   [0m ignored=0   


PLAY [ONTAP-04-06 - Domain User Access] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ******************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] **************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] **********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Clean-up test SVM with admin account] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=10  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=2   [0m [0;32mrescued=2   [0m ignored=0   
[0;33mcluster2[0m                   : [0;32mok=10  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=2   [0m [0;32mrescued=2   [0m ignored=0   


PLAY [TAP-12-10 - Admin Multifactor Authentication] ************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local testuser with read-only account] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=10  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=3   [0m [0;32mrescued=2   [0m ignored=0   
[0;33mcluster2[0m                   : [0;32mok=10  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=3   [0m [0;32mrescued=2   [0m ignored=0   


real	0m44.061s
user	0m15.535s
sys	0m2.384s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-12-* [1P[1P[1@2[1@0

PLAY [ONTAP-20-01 - Storage Virtual Machines (SVMs)] ***********************************************************************************************************************************************************************************************************************************************************************

TASK [Create all SVMs for testing"] ****************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_analytics] *************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_activity_tracking] *****************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-02 - SVM Logical Network] ***********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create network interfaces on test SVMs] ******************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;36mskipping: [cluster1] => (item=cluster1-01_ic01) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02_ic01) [0m

TASK [Configure default route on test SVMs] ********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-03 - SVM Network Services] **********************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure DNS on test SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-04 - SVM Data Protocol Setup] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure NFS service on SVMs] ***************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v3-64bit-identifiers] **********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v4-64bit-identifiers] **********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create active directory preferred domain controllers] ****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create CIFS server on SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=svm02-san)[0m

TASK [Patch additional SVM CIFS parameters - comment] **********************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m47.796s
user	0m16.529s
sys	0m2.952s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-20-* [1P[1P[1@3[1@1

PLAY [ONTAP-31-01 - Export Policies & Rules] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Create read-only export policy] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-only export policy rules for SVM root volume] ************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Apply read-only export policy to SVM's root volume] ******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy rules for SVM root volume] ***********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-02 - Volumes & Qtrees] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-03 - Mount & Write (Volumes)] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Mount NFS export on Linux host] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create test file on each export] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-04 - FlexGroup & Qtrees] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-05 - Mount & Write (FlexGroups)] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Mount NFS export on Linux host] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create test file on each export] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m52.979s
user	0m17.514s
sys	0m5.329s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-31-* [1P[1@2

PLAY [ONTAP-32-01 - Volumes & Qtrees] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=2   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-02 - Shares & ACLs (Volume)] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create shares] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] ********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-03 - Mount & Write (Volume)] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Save network credentials] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] **********************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

TASK [Create test file on each share] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-04 - FlexGroups & Qtrees] ***********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=8   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-05 - Shares & ACLs (FlexGroup)] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create shares] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] ********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-06 - Mount & Write (FlexGroup)] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

TASK [Save network credentials] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] **********************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Create test file on each share] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=8   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m6.211s
user	0m37.379s
sys	0m6.984s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-32-* [1P [1P [1P [1P r e v e r t - 3 1 .yml 

PLAY [ONTAP-revert-31 - NFS - Linux] ***************************************************************************************************************************************************************************************************************************************************************************************

TASK [Unmount exports on volume] *******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Unmount exports on FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Remove mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY [ONTAP-revert-31 - NFS - ONTAP] ***************************************************************************************************************************************************************************************************************************************************************************************

TASK [Remove volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Remove FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Remove read-write export policy] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Apply default export policy to root volume] **************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Remove read-only export policy] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m35.957s
user	0m8.358s
sys	0m2.436s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-31.yml [1P [1P [1P [1P [1P 2 .yml 

PLAY [ONTAP-revert-32 - CIFS - Windows] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Remove mapped shares] ************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Remove network credentials] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Remove mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

PLAY [ONTAP-revert-32 - CIFS - ONTAP] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Remove shares] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Remove volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Remove FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	1m11.672s
user	0m14.255s
sys	0m2.189s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-32.yml [K[K[K[K[K[K[K00*

PLAY [ONTAP-revert-00 - Return to Day0 - Linux] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Unmount exports] *****************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Remove mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcentos1[0m                    : [0;32mok=2   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-revert-00 - Return to Day0 - Windows] **************************************************************************************************************************************************************************************************************************************************************************

TASK [Remove mapped shares] ************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;32mok: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;32mok: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;32mok: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;32mok: [jumphost] => (item=ontap_32_vol_qt05)[0m
[0;32mok: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;32mok: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;32mok: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;32mok: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;32mok: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Remove network credentials] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

TASK [Remove mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcentos1[0m                    : [0;32mok=2   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;32mjumphost[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 136, column 7, found a duplicate dict key (hostname). Using last defined value only.[0m
[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 218, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-revert-00 - Return to Day0 - ONTAP] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Get all non-root volumes from clusters] ******************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete all volumes from clusters] ************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Get all SVM CIFS servers] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVM CIFS servers] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - CLUSTER2_AD)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - SVM02-SAN)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - CLUSTER1_AD)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - SVM01-NAS)[0m

TASK [Get all SVM interfaces from clusters] ********************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVM interfaces from clusters] *****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - ntap-svm01-nas)[0m
[0;33mchanged: [cluster2] => (item=cluster2_ad - cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - ntap-svm02-san)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - cluster1_ad)[0m

TASK [Get all intercluster interfaces from clusters] ***********************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete intercluster interfaces from clusters] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Get all SVMs] ********************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVMs] *****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Get all users] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove all additional users from cluster] ****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster1] => (item=admin) [0m
[0;36mskipping: [cluster1] => (item=autosupport) [0m
[0;36mskipping: [cluster2] => (item=admin) [0m
[0;36mskipping: [cluster2] => (item=autosupport) [0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m

TASK [Get all non-root aggregates] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove all non-root aggregates from clusters] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'uuid': '486975e5-62d0-11ee-a847-005056ab483e', 'name': 'cluster1_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/486975e5-62d0-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': '4869a5ff-62d0-11ee-8d2e-005056abdd29', 'name': 'cluster2_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/4869a5ff-62d0-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': '4c52847e-62d0-11ee-8d2e-005056abdd29', 'name': 'cluster2_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/4c52847e-62d0-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '4935a86e-62d0-11ee-a847-005056ab483e', 'name': 'cluster1_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/4935a86e-62d0-11ee-a847-005056ab483e'}}})[0m

TASK [Remove DNS config from cluster] **************************************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest: always to your playbook.  More[0m
[1;35minformation can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get all NTP servers from cluster] ************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove NTP servers from cluster] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster1] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m

TASK [Reset timezone on storage cluster to Etc/UTC] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Remove onboard key manager configuration] ****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get interface groups and VLANs from cluster] *************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove VLANs from cluster] *******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1-01:a0a) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02:a0a) [0m
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2] => (item=cluster2-01:a0a) [0m
[0;36mskipping: [cluster2] => (item=cluster2-02:a0a) [0m
[0;36mskipping: [cluster2][0m

TASK [Remove interface groups from cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m

TASK [Get broadcast domains from cluster] **********************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove broadcast domains from cluster] *******************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=bc_data | IPspace: Default)[0m
[0;33mchanged: [cluster2] => (item=bc_data | IPspace: Default)[0m
[0;36mskipping: [cluster2] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster2] => (item=Default | IPspace: Default) [0m
[0;36mskipping: [cluster1] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster1] => (item=Default | IPspace: Default) [0m

TASK [Reset banner and message of the day on cluster] **********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcentos1[0m                    : [0;32mok=2   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=22  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    ignored=0   
[0;32mjumphost[0m                   : [0;32mok=3   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m1.052s
user	0m38.970s
sys	0m7.839s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-00*[K[K[K[K[K[K[K[K[K[K1*

PLAY [ONTAP-10-01 - Licenses] **********************************************************************************************************************************************************************************************************************************************************************************************

TASK [Install licenses on storage cluster] *********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;32mcluster2[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-02 - Physical Network] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create broadcast domains on storage cluster] *************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=bc_data)[0m
[0;33mchanged: [cluster1] => (item=bc_data)[0m

TASK [Create interface groups on storage cluster] **************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m

TASK [Configure default network route on storage cluster] ******************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-10-03.yml, line 40, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-10-03 - Network Services] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create DNS config on storage cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest: always to your playbook.  More[0m
[1;35minformation can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Create NTP server on storage cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=0.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=0.us.pool.ntp.org)[0m
[1;30mFAILED - RETRYING: [cluster2]: Create NTP server on storage cluster (5 retries left).[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (5 retries left).[0m
[0;33mchanged: [cluster2] => (item=1.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=1.us.pool.ntp.org)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-04 - Storage Aggregates] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create data aggregates on storage cluster] ***************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2-01:cluster2_01_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-01:cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:cluster1_02_aggr01)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-05 - AutoSupport] *******************************************************************************************************************************************************************************************************************************************************************************************

TASK [Send Test AutoSupport (Call Home)] ***********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-11-01 - Cluster/Node Parameters] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Set timezone on storage cluster] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Create login banner and message of the day (MOTD) on storage cluster] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m
[0;33mchanged: [cluster1] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-11-02.yml, line 18, column 3, found a duplicate dict key (post_tasks). Using last defined value only.[0m

PLAY [ONTAP-11-02 - Administrative Domain Authentication] ******************************************************************************************************************************************************************************************************************************************************************

TASK [Check if any domain tunnel exists] ***********************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m

TASK [Show all domain tunnel svms] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create SVM for domain tunnel (proxy)] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m

TASK [Create network interfaces on proxy SVM] ******************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'scope': 'svm', 'svm': {'name': 'cluster2_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.220', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'scope': 'svm', 'svm': {'name': 'ntap-svm03-backup'}, 'ip': {'netmask': '24', 'address': '192.168.0.221', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'scope': 'svm', 'svm': {'name': 'cluster1_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.210', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'scope': 'svm', 'svm': {'name': 'ntap-svm01-nas'}, 'ip': {'netmask': '24', 'address': '192.168.0.211', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.123', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.124', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'scope': 'svm', 'svm': {'name': 'ntap-svm02-san'}, 'ip': {'netmask': '24', 'address': '192.168.0.212', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.121', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.122', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m

TASK [Configure default route on proxy SVM] ********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Configure DNS on proxy SVM] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m

TASK [Create active directory preferred domain controllers] ****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m

TASK [Create CIFS server on SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'svm': {'name': 'cluster2_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster2] => (item={'name': 'svm03-backup', 'svm': {'name': 'ntap-svm03-backup'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is the default NAS backup location', 'enabled': True}) [0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'svm': {'name': 'cluster1_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster1] => (item={'name': 'svm01-nas', 'svm': {'name': 'ntap-svm01-nas'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary NAS SVM', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm02-san', 'svm': {'name': 'ntap-svm02-san'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary SAN SVM', 'enabled': True}) [0m

TASK [Patch additional SVM CIFS parameters - comment] **********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm02-san) [0m

TASK [Create domain tunnel for cluster AD authentication] ******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=16  [0m [0;33mchanged=14  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-11-03 - Key Manager] *******************************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure onboard Key Manager] ***************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get all non-root aggregates] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Enable aggregate encryption on all aggregates] ***********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_01_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1_02_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_02_aggr01)[0m

TASK [Get key manager configuration and backup] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Display key manager configuration and backup] ************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/bc7a312c-6396-11ee-a847-005056ab483e"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAAB73nwuAAAAACEAAAAAAAAAQAAAAAAAAADUQHLRAAAAAKZYVqwTt0/VIcfeHyR/omZZ1L5NDXtyvh0MtksUp76rjiOFhtbGZSEkNX36vQ/z4cIfy9eIR6/o4uy8UueRqoMiAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAAASNhAlAAAAAJ1b0yjrxffYPszT1wb7sSuGpOli3dX7zt35H49R7C2aY/d3UoZ63t0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAAKv24eUAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAAAAkq6LAAAAAAAAAAAAAAAAAgAAAAAAAQBILJQ50SEooewVAc5iIIi7AAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAAcXC/JgAAAAAmaCzrd/aTKPKLlfIm4646AP03ypoYI9qqKyChBQV3NV/YOpmR89CwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAnrnrpQAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAMPB0O4AAAAAAAAAAAAAAAACAAAAAAABAPf+IW0EcoPEiTk4NgnrYXwAAAAAAAAAACQAAAAAAAAAgAAAAAAAAAC4nsaSAAAAAHjRxedoy5YavZzNPa/QKfUDOeuZi5ZQoCoN0YRalnRZp9eH55qEIjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "bc7a312c-6396-11ee-a847-005056ab483e",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/bc7db828-6396-11ee-8d2e-005056abdd29"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAACuN/XIAAAAACEAAAAAAAAAQAAAAAAAAACDrG00AAAAAKPmiNW+L0QJpxB06WvetvLwI0WIs8fYw9ZvpxEzY9KkuKCo7M+1UT38uiUtDWlge6M/8PoYVtIsfQ89Lxxmu1kiAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAAActpLqAAAAAPV507OMnV0Locf/mT9YAZoSJYW9orhkjgiK4klCFfQmte5YbJsIpkQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAALIDliYAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAAD2dFuNAAAAAAAAAAAAAAAAAgAAAAAAAQABqMqlBUaIEhN8h4ZvZAd5AAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAAXwj6hgAAAACxStPC7RIEqumJUSdoQulgSoSTFHtyscNh4I8TUfdLVHeTZz8Grxt1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAASwOHQQAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAJba2RoAAAAAAAAAAAAAAAACAAAAAAABAA4HsCqg9Kf9sLfRX7gby+8AAAAAAAAAACQAAAAAAAAAgAAAAAAAAACgKGN8AAAAALJflmm4KW5C0RRvYfJIikETb3yYkVd2S8vpkdG+PNbK61XPw9U9hngAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "bc7db828-6396-11ee-8d2e-005056abdd29",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=21  [0m [0;33mchanged=16  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-01 - Read-only Local User] **********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-02 - Administrative Local User] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=24  [0m [0;33mchanged=19  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-03 - Local User Access] *************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ******************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] **************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] **********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Clean-up test SVM with admin account] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=26  [0m [0;33mchanged=20  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-04 - Read-only Domain Group] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Assign domain group read-only privileges on cluster] *****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-05 - Administrative Domain Group] ***************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=29  [0m [0;33mchanged=23  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-04-06 - Domain User Access] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ******************************************************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] ****************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] **************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] **********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Clean-up test SVM with admin account] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


PLAY [TAP-12-10 - Admin Multifactor Authentication] ************************************************************************************************************************************************************************************************************************************************************************

TASK [Create local testuser with read-only account] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=7   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


real	2m2.652s
user	0m46.661s
sys	0m7.922s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-1*[1P*2*

PLAY [ONTAP-20-01 - Storage Virtual Machines (SVMs)] ***********************************************************************************************************************************************************************************************************************************************************************

TASK [Create all SVMs for testing"] ****************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_analytics] *************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_activity_tracking] *****************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-02 - SVM Logical Network] ***********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create network interfaces on test SVMs] ******************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;36mskipping: [cluster1] => (item=cluster1-01_ic01) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02_ic01) [0m

TASK [Configure default route on test SVMs] ********************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-03 - SVM Network Services] **********************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure DNS on test SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-04 - SVM Data Protocol Setup] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Configure NFS service on SVMs] ***************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v3-64bit-identifiers] **********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v4-64bit-identifiers] **********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create active directory preferred domain controllers] ****************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create CIFS server on SVMs] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=svm02-san)[0m

TASK [Patch additional SVM CIFS parameters - comment] **********************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m41.924s
user	0m15.781s
sys	0m2.943s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-2*1*2*[1P*3*

PLAY [ONTAP-31-01 - Export Policies & Rules] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Create read-only export policy] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-only export policy rules for SVM root volume] ************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Apply read-only export policy to SVM's root volume] ******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy rules for SVM root volume] ***********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-02 - Volumes & Qtrees] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: Cannot perform actions: modify when volume is offline.[0m
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-03 - Mount & Write (Volumes)] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Mount NFS export on Linux host] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create test file on each export] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-04 - FlexGroup & Qtrees] ************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-05 - Mount & Write (FlexGroups)] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Mount NFS export on Linux host] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create test file on each export] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-01 - Volumes & Qtrees] **************************************************************************************************************************************************************************************************************************************************************************************

TASK [Create volume] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=11  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-02 - Shares & ACLs (Volume)] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create shares] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] ********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-03 - Mount & Write (Volume)] ********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Save network credentials] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] **********************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

TASK [Create test file on each share] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-04 - FlexGroups & Qtrees] ***********************************************************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] ****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-05 - Shares & ACLs (FlexGroup)] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create shares] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] ********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-06 - Mount & Write (FlexGroup)] *****************************************************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

TASK [Save network credentials] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] **********************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Create test file on each share] **************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=8   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m57.534s
user	0m53.982s
sys	0m12.166s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# time ansible-playbook -i inventories/labondemand playbooks/ONTAP-3*[1P*0*0*[C-00*r-00*e-00*v-00*e-00*r-00*t-00*

PLAY [ONTAP-revert-00 - Return to Day0 - Linux] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Unmount exports] *****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Remove mount directories] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-revert-00 - Return to Day0 - Windows] **************************************************************************************************************************************************************************************************************************************************************************

TASK [Remove mapped shares] ************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Remove network credentials] ******************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Remove mount directory] **********************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 136, column 7, found a duplicate dict key (hostname). Using last defined value only.[0m
[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 218, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-revert-00 - Return to Day0 - ONTAP] ****************************************************************************************************************************************************************************************************************************************************************************

TASK [Get all non-root volumes from clusters] ******************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all volumes from clusters] ************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item={'uuid': '6b5500bf-6397-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '249dd3b4-6397-11ee-a52f-005056ab2aa7', '_links': {'self': {'href': '/api/svm/svms/249dd3b4-6397-11ee-a52f-005056ab2aa7'}}}, '_links': {'self': {'href': '/api/storage/volumes/6b5500bf-6397-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '764e449f-6397-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '249dd3b4-6397-11ee-a52f-005056ab2aa7', '_links': {'self': {'href': '/api/svm/svms/249dd3b4-6397-11ee-a52f-005056ab2aa7'}}}, '_links': {'self': {'href': '/api/storage/volumes/764e449f-6397-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '88eee3ca-6397-11ee-a847-005056ab483e', 'name': 'ontap_32_cifs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '249dd3b4-6397-11ee-a52f-005056ab2aa7', '_links': {'self': {'href': '/api/svm/svms/249dd3b4-6397-11ee-a52f-005056ab2aa7'}}}, '_links': {'self': {'href': '/api/storage/volumes/88eee3ca-6397-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'ac87df59-6397-11ee-a847-005056ab483e', 'name': 'ontap_32_cifs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '249dd3b4-6397-11ee-a52f-005056ab2aa7', '_links': {'self': {'href': '/api/svm/svms/249dd3b4-6397-11ee-a52f-005056ab2aa7'}}}, '_links': {'self': {'href': '/api/storage/volumes/ac87df59-6397-11ee-a847-005056ab483e'}}})[0m

TASK [Get all SVM CIFS servers] ********************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVM CIFS servers] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - CLUSTER2_AD)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - SVM01-NAS)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - SVM02-SAN)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - CLUSTER1_AD)[0m

TASK [Get all SVM interfaces from clusters] ********************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete all SVM interfaces from clusters] *****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - ntap-svm02-san)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - cluster1_ad)[0m

TASK [Get all intercluster interfaces from clusters] ***********************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete intercluster interfaces from clusters] ************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Get all SVMs] ********************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVMs] *****************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m

TASK [Get all users] *******************************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove all additional users from cluster] ****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster1] => (item=admin) [0m
[0;36mskipping: [cluster1] => (item=autosupport) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster2] => (item=admin) [0m
[0;36mskipping: [cluster2] => (item=autosupport) [0m
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m

TASK [Get all non-root aggregates] *****************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove all non-root aggregates from clusters] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'uuid': 'a458cab0-6396-11ee-8d2e-005056abdd29', 'name': 'cluster2_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/a458cab0-6396-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'a4598982-6396-11ee-a847-005056ab483e', 'name': 'cluster1_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/a4598982-6396-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'a8400d16-6396-11ee-a847-005056ab483e', 'name': 'cluster1_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/a8400d16-6396-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': 'a55855cb-6396-11ee-8d2e-005056abdd29', 'name': 'cluster2_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/a55855cb-6396-11ee-8d2e-005056abdd29'}}})[0m

TASK [Remove DNS config from cluster] **************************************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest: always to your playbook.  More[0m
[1;35minformation can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Get all NTP servers from cluster] ************************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove NTP servers from cluster] *************************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster1] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m

TASK [Reset timezone on storage cluster to Etc/UTC] ************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Remove onboard key manager configuration] ****************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get interface groups and VLANs from cluster] *************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove VLANs from cluster] *******************************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1-01:a0a) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02:a0a) [0m
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2] => (item=cluster2-01:a0a) [0m
[0;36mskipping: [cluster2] => (item=cluster2-02:a0a) [0m
[0;36mskipping: [cluster2][0m

TASK [Remove interface groups from cluster] ********************************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m

TASK [Get broadcast domains from cluster] **********************************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove broadcast domains from cluster] *******************************************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster2] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster1] => (item=Default | IPspace: Default) [0m
[0;36mskipping: [cluster2] => (item=Default | IPspace: Default) [0m
[0;33mchanged: [cluster2] => (item=bc_data | IPspace: Default)[0m
[0;33mchanged: [cluster1] => (item=bc_data | IPspace: Default)[0m

TASK [Reset banner and message of the day on cluster] **********************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=13  [0m unreachable=0    failed=0    [0;36mskipped=2   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m29.567s
user	0m44.212s
sys	0m8.709s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# history | tail
   76  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-31-* 
   77  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-32-* 
   78  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-31.yml 
   79  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-32.yml 
   80  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-00*
   81  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-1*
   82  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-2*
   83  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-3*
   84  time ansible-playbook -i inventories/labondemand playbooks/ONTAP-revert-00*
   85  history | tail
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# ls
ansible.cfg  [0m[38;5;27minit[0m  [38;5;27minventories[0m  [38;5;27mplaybooks[0m  README.md  [38;5;27mscripts[0m  [38;5;27mvars[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls scripts/
[0m[38;5;9mAutomation_Artifcats.zip[0m  change_volsize.py  console.log  create_snap.py  create_svms.yml  delete_svms.yml  [38;5;34minsight_demo.sh[0m  qtree_operations.py  quota_operations.py  README.md  snapshot_operations.py  utils.py  volume_operations.py
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ./scripts/[K[K[K[K[K[K[K[K[K[K[K[root@centos1 NetApp-ONTAP-Testplan]# clear
[3;J[H[2J]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls
ansible.cfg  [0m[38;5;27minit[0m  [38;5;27minventories[0m  [38;5;27mplaybooks[0m  README.md  [38;5;27mscripts[0m  [38;5;27mvars[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls -al
total 20
drwxr-xr-x  9 root root  162 Oct  5 16:14 [0m[38;5;27m.[0m
dr-xr-x---. 9 root root  273 Oct  3 16:00 [38;5;27m..[0m
-rw-r--r--  1 root root  243 Oct  3 15:46 ansible.cfg
drwxr-xr-x  8 root root  220 Oct  5 16:25 [38;5;27m.git[0m
-rw-r--r--  1 root root   49 Oct  3 16:05 .gitignore
drwxr-xr-x  3 root root   72 Oct  3 15:46 [38;5;27minit[0m
drwxr-xr-x  3 root root   25 Oct  3 15:46 [38;5;27minventories[0m
drwxr-xr-x  2 root root 4096 Oct  3 15:46 [38;5;27mplaybooks[0m
-rw-r--r--  1 root root 4594 Oct  3 15:46 README.md
drwxr-xr-x  2 root root  318 Oct  5 16:15 [38;5;27mscripts[0m
drwxr-xr-x  4 root root   42 Oct  3 15:46 [38;5;27mvars[0m
drwxr-xr-x  2 root root   27 Oct  5 16:14 [38;5;27m.vscode[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# tree
bash: tree: command not found
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# clear
[3;J[H[2J]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ll
total 16
-rw-r--r-- 1 root root  243 Oct  3 15:46 ansible.cfg
drwxr-xr-x 3 root root   72 Oct  3 15:46 [0m[38;5;27minit[0m
drwxr-xr-x 3 root root   25 Oct  3 15:46 [38;5;27minventories[0m
drwxr-xr-x 2 root root 4096 Oct  3 15:46 [38;5;27mplaybooks[0m
-rw-r--r-- 1 root root 4594 Oct  3 15:46 README.md
drwxr-xr-x 2 root root  318 Oct  5 16:15 [38;5;27mscripts[0m
drwxr-xr-x 4 root root   42 Oct  3 15:46 [38;5;27mvars[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# ./scripts/insight_demo.sh [1@t[1@i[1@m[1@e[1@ [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C


--> Running Ansible Playbooks to demo ONTAP automated configuration:
--> 1. Cluster Configuration
--> 2. Data Storage Virtual Machine(SVM) Configuration
--> 3. NAS Provisioning - Standard NFS Exports & SMB Shares
--> 4. Revert / Remove all configuration & Reset environment


--> Cluster Configuration

PLAY [ONTAP-10-01 - Licenses] *******************************************************************************************************************************************************************************************************************************************************

TASK [Install licenses on storage cluster] ******************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;32mcluster2[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-02 - Physical Network] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create broadcast domains on storage cluster] **********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=bc_data)[0m
[0;33mchanged: [cluster2] => (item=bc_data)[0m

TASK [Create interface groups on storage cluster] ***********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m

TASK [Configure default network route on storage cluster] ***************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-10-03.yml, line 40, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-10-03 - Network Services] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create DNS config on storage cluster] *****************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest:[0m
[1;35malways to your playbook.  More information can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Create NTP server on storage cluster] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=0.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=0.us.pool.ntp.org)[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (5 retries left).[0m
[1;30mFAILED - RETRYING: [cluster2]: Create NTP server on storage cluster (5 retries left).[0m
[0;33mchanged: [cluster1] => (item=1.us.pool.ntp.org)[0m
[0;33mchanged: [cluster2] => (item=1.us.pool.ntp.org)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-04 - Storage Aggregates] *********************************************************************************************************************************************************************************************************************************************

TASK [Create data aggregates on storage cluster] ************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:cluster2_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:cluster1_02_aggr01)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-05 - AutoSupport] ****************************************************************************************************************************************************************************************************************************************************

TASK [Send Test AutoSupport (Call Home)] ********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-11-01 - Cluster/Node Parameters] ****************************************************************************************************************************************************************************************************************************************

TASK [Set timezone on storage cluster] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Create login banner and message of the day (MOTD) on storage cluster] *********************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m
[0;33mchanged: [cluster2] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-11-02.yml, line 18, column 3, found a duplicate dict key (post_tasks). Using last defined value only.[0m

PLAY [ONTAP-11-02 - Administrative Domain Authentication] ***************************************************************************************************************************************************************************************************************************

TASK [Check if any domain tunnel exists] ********************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m

TASK [Show all domain tunnel svms] **************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create SVM for domain tunnel (proxy)] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m

TASK [Create network interfaces on proxy SVM] ***************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'scope': 'svm', 'svm': {'name': 'cluster2_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.220', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'scope': 'svm', 'svm': {'name': 'cluster1_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.210', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'scope': 'svm', 'svm': {'name': 'ntap-svm03-backup'}, 'ip': {'netmask': '24', 'address': '192.168.0.221', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.123', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'scope': 'svm', 'svm': {'name': 'ntap-svm01-nas'}, 'ip': {'netmask': '24', 'address': '192.168.0.211', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.124', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'scope': 'svm', 'svm': {'name': 'ntap-svm02-san'}, 'ip': {'netmask': '24', 'address': '192.168.0.212', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.121', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.122', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m

TASK [Configure default route on proxy SVM] *****************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Configure DNS on proxy SVM] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m

TASK [Create active directory preferred domain controllers] *************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m

TASK [Create CIFS server on SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'svm': {'name': 'cluster1_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'svm': {'name': 'cluster2_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster2] => (item={'name': 'svm03-backup', 'svm': {'name': 'ntap-svm03-backup'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is the default NAS backup location', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm01-nas', 'svm': {'name': 'ntap-svm01-nas'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary NAS SVM', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm02-san', 'svm': {'name': 'ntap-svm02-san'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary SAN SVM', 'enabled': True}) [0m

TASK [Patch additional SVM CIFS parameters - comment] *******************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm02-san) [0m

TASK [Create domain tunnel for cluster AD authentication] ***************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=16  [0m [0;33mchanged=14  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-11-03 - Key Manager] ****************************************************************************************************************************************************************************************************************************************************

TASK [Configure onboard Key Manager] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get all non-root aggregates] **************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Enable aggregate encryption on all aggregates] ********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1_02_aggr01)[0m

TASK [Get key manager configuration and backup] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Display key manager configuration and backup] *********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/6ebf3601-639c-11ee-a847-005056ab483e"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAAAx29wnAAAAACEAAAAAAAAAQAAAAAAAAABqar96AAAAACv8KEI7ttIhV6QMrRrUJESTq5ow2FzWBhh6d5eZXlMmE+RsciZrtiFaFHqtIvI754UHGxwxHdWDEKD3SGQWBNgiAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAAA1lUGOAAAAACTe3XDaLZBNp8wvjQ03bqfjd71qJoBzy2CRIIvV4t1CTgcGER0fB9MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAALv0UdkAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAADCRTA1AAAAAAAAAAAAAAAAAgAAAAAAAQBf5MGo6l4T4iLfEm1YVDAWAAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAA7xtHkwAAAAA58thk1KhOcQS6XAgA1iFI00ljtGhZgnV4zbYIvN9UvXjiUFlYC0igAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAcmRbpQAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAALPtxzgAAAAAAAAAAAAAAAACAAAAAAABAOKlYq38XlvMAOga7TACCk0AAAAAAAAAACQAAAAAAAAAgAAAAAAAAAARhF+nAAAAAE/AcjnzwbJzsuG61QacBAkjsoj1CoQciRNYXXuBBjphgHj4NSqZY0QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "6ebf3601-639c-11ee-a847-005056ab483e",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/6ec2383a-639c-11ee-8d2e-005056abdd29"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAADk7M3oAAAAACEAAAAAAAAAQAAAAAAAAADoBkFcAAAAAP5tw1vgmMxjwH0bZkFgF9uJ4B4K+qqzC9STP90qN1vPGmIYl1tzZBqhK2LZWpwzbbwwbJdVtwD8craNiJ/kkXsiAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAABNacUjAAAAAIofeJb5lQE1IEj3x0Pt/cevc8N/09eSsJcvXjCcSV8qYwAoSV0V1zIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAAEm5WHYAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAACFtdtDAAAAAAAAAAAAAAAAAgAAAAAAAQBDRdhroc0r4GsbUk/JR6CTAAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAAciFpUQAAAADJHZtQS6YnOgVgQuldy8fd9ExMwgDqDwNl4bag5AIH0WCbticTWEVSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAA2Tj2TAAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAJ83qHkAAAAAAAAAAAAAAAACAAAAAAABAPlm8b75E5HVlnGOViTq1SQAAAAAAAAAACQAAAAAAAAAgAAAAAAAAABCA/4hAAAAAIch3cUq4hAGmPw1zRvjo36pmn7okZDCZA5L67J6ZUOwdxYl8yH25nYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "6ec2383a-639c-11ee-8d2e-005056abdd29",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=21  [0m [0;33mchanged=16  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-01 - Read-only Local User] *******************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-02 - Administrative Local User] **************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=24  [0m [0;33mchanged=19  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-03 - Local User Access] **********************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ***************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] ***********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] *******************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Clean-up test SVM with admin account] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=26  [0m [0;33mchanged=20  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-04 - Read-only Domain Group] *****************************************************************************************************************************************************************************************************************************************

TASK [Assign domain group read-only privileges on cluster] **************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-05 - Administrative Domain Group] ************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=29  [0m [0;33mchanged=23  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-04-06 - Domain User Access] *********************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ***************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] ***********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] *******************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Clean-up test SVM with admin account] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


PLAY [TAP-12-10 - Admin Multifactor Authentication] *********************************************************************************************************************************************************************************************************************************

TASK [Create local testuser with read-only account] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=7   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


real	1m58.430s
user	0m46.207s
sys	0m7.864s


--> Data Storage Virtual Machine(SVM) Configuration

PLAY [ONTAP-20-01 - Storage Virtual Machines (SVMs)] ********************************************************************************************************************************************************************************************************************************

TASK [Create all SVMs for testing"] *************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_analytics] **********************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_activity_tracking] **************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-02 - SVM Logical Network] ********************************************************************************************************************************************************************************************************************************************

TASK [Create network interfaces on test SVMs] ***************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;36mskipping: [cluster1] => (item=cluster1-01_ic01) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02_ic01) [0m

TASK [Configure default route on test SVMs] *****************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-03 - SVM Network Services] *******************************************************************************************************************************************************************************************************************************************

TASK [Configure DNS on test SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-04 - SVM Data Protocol Setup] ****************************************************************************************************************************************************************************************************************************************

TASK [Configure NFS service on SVMs] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v3-64bit-identifiers] *******************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v4-64bit-identifiers] *******************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create active directory preferred domain controllers] *************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create CIFS server on SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=svm02-san)[0m

TASK [Patch additional SVM CIFS parameters - comment] *******************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m44.802s
user	0m15.965s
sys	0m2.886s


--> NAS Provisioning - Standard NFS Exports & SMB Shares

PLAY [ONTAP-31-01 - Export Policies & Rules] ****************************************************************************************************************************************************************************************************************************************

TASK [Create read-only export policy] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-only export policy rules for SVM root volume] *********************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Apply read-only export policy to SVM's root volume] ***************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy rules for SVM root volume] ********************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-02 - Volumes & Qtrees] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create volume] ****************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: Cannot perform actions: modify when volume is offline.[0m
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-03 - Mount & Write (Volumes)] ****************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] ****************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Mount NFS export on Linux host] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create test file on each export] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-04 - FlexGroup & Qtrees] *********************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] *************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-05 - Mount & Write (FlexGroups)] *************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] ****************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Mount NFS export on Linux host] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create test file on each export] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-01 - Volumes & Qtrees] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create volume] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=11  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-02 - Shares & ACLs (Volume)] *****************************************************************************************************************************************************************************************************************************************

TASK [Create shares] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] *****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] ****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-03 - Mount & Write (Volume)] *****************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Save network credentials] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

TASK [Create test file on each share] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-04 - FlexGroups & Qtrees] ********************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] *************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-05 - Shares & ACLs (FlexGroup)] **************************************************************************************************************************************************************************************************************************************

TASK [Create shares] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] *****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] ****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-06 - Mount & Write (FlexGroup)] **************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

TASK [Save network credentials] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Create test file on each share] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=8   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	3m19.162s
user	0m57.166s
sys	0m12.704s


--> Revert / Remove all configuration & Reset environment

PLAY [ONTAP-revert-00 - Return to Day0 - Linux] *************************************************************************************************************************************************************************************************************************************

TASK [Unmount exports] **************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Remove mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-revert-00 - Return to Day0 - Windows] ***********************************************************************************************************************************************************************************************************************************

TASK [Remove mapped shares] *********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Remove network credentials] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Remove mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 136, column 7, found a duplicate dict key (hostname). Using last defined value only.[0m
[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 218, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-revert-00 - Return to Day0 - ONTAP] *************************************************************************************************************************************************************************************************************************************

TASK [Get all non-root volumes from clusters] ***************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete all volumes from clusters] *********************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item={'uuid': 'a4512010-639c-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '876dc853-639c-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/876dc853-639c-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/a4512010-639c-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'be7df5a8-639c-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '876dc853-639c-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/876dc853-639c-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/be7df5a8-639c-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'd13d814e-639c-11ee-a847-005056ab483e', 'name': 'ontap_32_cifs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '876dc853-639c-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/876dc853-639c-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/d13d814e-639c-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'f26b202a-639c-11ee-a52f-005056ab2aa7', 'name': 'ontap_32_cifs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '876dc853-639c-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/876dc853-639c-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/f26b202a-639c-11ee-a52f-005056ab2aa7'}}})[0m

TASK [Get all SVM CIFS servers] *****************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete all SVM CIFS servers] **************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - CLUSTER2_AD)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - CLUSTER1_AD)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - SVM01-NAS)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - SVM02-SAN)[0m

TASK [Get all SVM interfaces from clusters] *****************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVM interfaces from clusters] **************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - cluster1_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - ntap-svm02-san)[0m

TASK [Get all intercluster interfaces from clusters] ********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete intercluster interfaces from clusters] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Get all SVMs] *****************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVMs] **************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Get all users] ****************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove all additional users from cluster] *************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster2] => (item=admin) [0m
[0;36mskipping: [cluster2] => (item=autosupport) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster1] => (item=admin) [0m
[0;36mskipping: [cluster1] => (item=autosupport) [0m
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m

TASK [Get all non-root aggregates] **************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove all non-root aggregates from clusters] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'uuid': '5952dc30-639c-11ee-a847-005056ab483e', 'name': 'cluster1_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/5952dc30-639c-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '59de7aab-639c-11ee-a847-005056ab483e', 'name': 'cluster1_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/59de7aab-639c-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': '595680e4-639c-11ee-8d2e-005056abdd29', 'name': 'cluster2_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/595680e4-639c-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': '5cb91357-639c-11ee-8d2e-005056abdd29', 'name': 'cluster2_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/5cb91357-639c-11ee-8d2e-005056abdd29'}}})[0m

TASK [Remove DNS config from cluster] ***********************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest:[0m
[1;35malways to your playbook.  More information can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get all NTP servers from cluster] *********************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove NTP servers from cluster] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster1] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m

TASK [Reset timezone on storage cluster to Etc/UTC] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Remove onboard key manager configuration] *************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Get interface groups and VLANs from cluster] **********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove VLANs from cluster] ****************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1-01:a0a) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02:a0a) [0m
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2] => (item=cluster2-01:a0a) [0m
[0;36mskipping: [cluster2] => (item=cluster2-02:a0a) [0m
[0;36mskipping: [cluster2][0m

TASK [Remove interface groups from cluster] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m

TASK [Get broadcast domains from cluster] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove broadcast domains from cluster] ****************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster1] => (item=Default | IPspace: Default) [0m
[0;33mchanged: [cluster1] => (item=bc_data | IPspace: Default)[0m
[0;33mchanged: [cluster2] => (item=bc_data | IPspace: Default)[0m
[0;36mskipping: [cluster2] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster2] => (item=Default | IPspace: Default) [0m

TASK [Reset banner and message of the day on cluster] *******************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=13  [0m unreachable=0    failed=0    [0;36mskipped=2   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m22.502s
user	0m42.811s
sys	0m8.686s


--> Finished!

real	8m24.908s
user	2m42.153s
sys	0m32.146s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# clear
[3;J[H[2J]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls -al
total 20
drwxr-xr-x  9 root root  162 Oct  5 16:14 [0m[38;5;27m.[0m
dr-xr-x---. 9 root root  273 Oct  3 16:00 [38;5;27m..[0m
-rw-r--r--  1 root root  243 Oct  3 15:46 ansible.cfg
drwxr-xr-x  8 root root  220 Oct  5 16:38 [38;5;27m.git[0m
-rw-r--r--  1 root root   49 Oct  3 16:05 .gitignore
drwxr-xr-x  3 root root   72 Oct  3 15:46 [38;5;27minit[0m
drwxr-xr-x  3 root root   25 Oct  3 15:46 [38;5;27minventories[0m
drwxr-xr-x  2 root root 4096 Oct  3 15:46 [38;5;27mplaybooks[0m
-rw-r--r--  1 root root 4594 Oct  3 15:46 README.md
drwxr-xr-x  2 root root  318 Oct  5 16:15 [38;5;27mscripts[0m
drwxr-xr-x  4 root root   42 Oct  3 15:46 [38;5;27mvars[0m
drwxr-xr-x  2 root root   27 Oct  5 16:14 [38;5;27m.vscode[0m
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# ls -al[1Pcleartime ./scripts/insight_demo.sh 


--> Running Ansible Playbooks to demo ONTAP automated configuration:
--> 1. Cluster Configuration
--> 2. Data Storage Virtual Machine(SVM) Configuration
--> 3. NAS Provisioning - Standard NFS Exports & SMB Shares
--> 4. Revert / Remove all configuration & Reset environment


--> Cluster Configuration

PLAY [ONTAP-10-01 - Licenses] *******************************************************************************************************************************************************************************************************************************************************

TASK [Install licenses on storage cluster] ******************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;32mcluster1[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;32mcluster2[0m                   : ok=0    changed=0    unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-02 - Physical Network] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create broadcast domains on storage cluster] **********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=bc_data)[0m
[0;33mchanged: [cluster1] => (item=bc_data)[0m

TASK [Create interface groups on storage cluster] ***********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m

TASK [Configure default network route on storage cluster] ***************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-10-03.yml, line 40, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-10-03 - Network Services] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create DNS config on storage cluster] *****************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest:[0m
[1;35malways to your playbook.  More information can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Create NTP server on storage cluster] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=0.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=0.us.pool.ntp.org)[0m
[1;30mFAILED - RETRYING: [cluster2]: Create NTP server on storage cluster (5 retries left).[0m
[1;30mFAILED - RETRYING: [cluster1]: Create NTP server on storage cluster (5 retries left).[0m
[0;33mchanged: [cluster2] => (item=1.us.pool.ntp.org)[0m
[0;33mchanged: [cluster1] => (item=1.us.pool.ntp.org)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-04 - Storage Aggregates] *********************************************************************************************************************************************************************************************************************************************

TASK [Create data aggregates on storage cluster] ************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2-01:cluster2_01_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-01:cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:cluster1_02_aggr01)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=6   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-10-05 - AutoSupport] ****************************************************************************************************************************************************************************************************************************************************

TASK [Send Test AutoSupport (Call Home)] ********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=7   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   


PLAY [ONTAP-11-01 - Cluster/Node Parameters] ****************************************************************************************************************************************************************************************************************************************

TASK [Set timezone on storage cluster] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Create login banner and message of the day (MOTD) on storage cluster] *********************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m
[0;33mchanged: [cluster2] => (item={'banner': '################ TEST BANNER ################\n# This system is currently in testing state #\n#############################################\n', 'scope': 'cluster', 'message': 'Welcome! Please note:\nThis system is not ready for production yet!\n'})[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-11-02.yml, line 18, column 3, found a duplicate dict key (post_tasks). Using last defined value only.[0m

PLAY [ONTAP-11-02 - Administrative Domain Authentication] ***************************************************************************************************************************************************************************************************************************

TASK [Check if any domain tunnel exists] ********************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": {"code": "4", "message": "entry doesn't exist"}}[0m
[0;36m...ignoring[0m

TASK [Show all domain tunnel svms] **************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create SVM for domain tunnel (proxy)] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m

TASK [Create network interfaces on proxy SVM] ***************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'scope': 'svm', 'svm': {'name': 'cluster1_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.210', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'scope': 'svm', 'svm': {'name': 'cluster2_ad'}, 'ip': {'netmask': '24', 'address': '192.168.0.220', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-management'}})[0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'scope': 'svm', 'svm': {'name': 'ntap-svm01-nas'}, 'ip': {'netmask': '24', 'address': '192.168.0.211', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'scope': 'svm', 'svm': {'name': 'ntap-svm03-backup'}, 'ip': {'netmask': '24', 'address': '192.168.0.221', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.123', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster2] => (item={'name': 'cluster2-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.124', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster2-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'scope': 'svm', 'svm': {'name': 'ntap-svm02-san'}, 'ip': {'netmask': '24', 'address': '192.168.0.212', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-data-files'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-01_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.121', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-01'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'cluster1-02_ic01', 'scope': 'cluster', 'ip': {'netmask': '24', 'address': '192.168.0.122', 'family': 'ipv4'}, 'location': {'home_node': {'name': 'cluster1-02'}, 'home_port': {'name': 'e0c'}, 'auto_revert': True}, 'service_policy': {'name': 'default-intercluster'}}) [0m

TASK [Configure default route on proxy SVM] *****************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Configure DNS on proxy SVM] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the tunnel SVM for cluster AD authentication'})[0m
[0;36mskipping: [cluster2] => (item={'name': 'ntap-svm03-backup', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True, 'enabled': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the primary backup SVM for testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm01-nas', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': True}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': False}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the first SVM for NAS testing'}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'ntap-svm02-san', 'dns': {'domains': ['demo.netapp.com'], 'servers': ['192.168.0.253']}, 'auto_enable_analytics': True, 'auto_enable_activity_tracking': True, 'ipspace': {'name': 'Default'}, 'nfs': {'allowed': False}, 'cifs': {'allowed': True}, 'iscsi': {'allowed': True}, 'fcp': {'allowed': False}, 'ndmp': {'allowed': False}, 'nvme': {'allowed': False}, 'language': 'utf8mb4', 'comment': 'This is the second SVM for SAN testing'}) [0m

TASK [Create active directory preferred domain controllers] *************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m

TASK [Create CIFS server on SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'name': 'cluster2_ad', 'svm': {'name': 'cluster2_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster2] => (item={'name': 'svm03-backup', 'svm': {'name': 'ntap-svm03-backup'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is the default NAS backup location', 'enabled': True}) [0m
[0;33mchanged: [cluster1] => (item={'name': 'cluster1_ad', 'svm': {'name': 'cluster1_ad'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is for cluster AD authentication', 'enabled': True})[0m
[0;36mskipping: [cluster1] => (item={'name': 'svm01-nas', 'svm': {'name': 'ntap-svm01-nas'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary NAS SVM', 'enabled': True}) [0m
[0;36mskipping: [cluster1] => (item={'name': 'svm02-san', 'svm': {'name': 'ntap-svm02-san'}, 'ad_domain': {'fqdn': 'demo.netapp.com', 'organizational_unit': 'OU=Storage,DC=DEMO,DC=NETAPP,DC=COM'}, 'comment': 'This CIFS Server is created for the primary SAN SVM', 'enabled': True}) [0m

TASK [Patch additional SVM CIFS parameters - comment] *******************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;36mskipping: [cluster2] => (item=ntap-svm03-backup) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm01-nas) [0m
[0;36mskipping: [cluster1] => (item=ntap-svm02-san) [0m

TASK [Create domain tunnel for cluster AD authentication] ***************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=16  [0m [0;33mchanged=14  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-11-03 - Key Manager] ****************************************************************************************************************************************************************************************************************************************************

TASK [Configure onboard Key Manager] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Get all non-root aggregates] **************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Enable aggregate encryption on all aggregates] ********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_01_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1_01_aggr01)[0m
[0;33mchanged: [cluster2] => (item=cluster2_02_aggr01)[0m
[0;33mchanged: [cluster1] => (item=cluster1_02_aggr01)[0m

TASK [Get key manager configuration and backup] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Display key manager configuration and backup] *********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/51c7b240-639e-11ee-a847-005056ab483e"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAACkdVoKAAAAACEAAAAAAAAAQAAAAAAAAADwLXtAAAAAAADnLG6u8qg9iAjClQjPcZpYqCAtRn3Q7XG2dxSuRvqE2EeDjNh7Bdc7GfX+6qoazUv6+nbRrgmrfrWOsR0eT0giAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAACBOimyAAAAAJpNnXmep7+CMhzaFIB/wF5xepNIX9FYSP/3IT3r8lPjgzBC7mS0f5IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAAAigwAkAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAADyCUmfAAAAAAAAAAAAAAAAAgAAAAAAAQBQTpTRufEH/+9DPrQ2+TTKAAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAAhq+QNgAAAACJnOh5VGD4Af14gTtfOpHgRpf1Ru+vL2x/YO03QB8kA7EWSeW7a1HKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAdfPBoAAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEvK0MgAAAAAAAAAAAAAAAACAAAAAAABAI2WoDSUqp/fW272BjTZZJ0AAAAAAAAAACQAAAAAAAAAgAAAAAAAAACmUToyAAAAAHFt1kDf8w1rUfELfUZ69xnwRoNWzHcdfcJow37K3newgOWjCMgN4lkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "51c7b240-639e-11ee-a847-005056ab483e",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        [[0m
[0;32m            {[0m
[0;32m                "_links": {[0m
[0;32m                    "self": {[0m
[0;32m                        "href": "/api/security/key-managers/51c77389-639e-11ee-8d2e-005056abdd29"[0m
[0;32m                    }[0m
[0;32m                },[0m
[0;32m                "is_default_data_at_rest_encryption_disabled": false,[0m
[0;32m                "onboard": {[0m
[0;32m                    "enabled": true,[0m
[0;32m                    "key_backup": "--------------------------BEGIN BACKUP--------------------------TmV0QXBwIEtleSBCbG9iAAEBAAAEAAAAcAEAAAAAAAAvOykOAAAAACEAAAAAAAAAQAAAAAAAAADhJxC9AAAAAAb0vZDbvT0TAFngy5pCXrrRLsNZUSuvmk1e0azugS9Y1uvJMy4fcKWCXPD3zT0+6vCZvhhqsM1rb4TMEzquW9giAAAAAAAAACgAAAAAAAAA3WTh7gAAAAAAAAAAAAAAAAIAAAAAAAgAZJEIWvdeHr5RCAvHGclo+wAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACQAAAAAAAAAgAAAAAAAAAB7SwLjAAAAAIveVhEASyAkLqbpV0JRroYeo0hfDvGLmdeOvCM83Sxo5DlUNI4oWYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOZXRBcHAgS2V5IEJsb2IAAQEAAAMAAAAYAQAAAAAAAJ0cjoUAAAAAIgAAAAAAAAAoAAAAAAAAAEOTcR0AAAAAAAAAAAAAAAACAAAAAAAJAGr3tJA/LRzUQRHwv+1aWvAAAAAAAAAAACIAAAAAAAAAKAAAAAAAAAAXgHWyAAAAAAAAAAAAAAAAAgAAAAAAAQCcqYTTip1eMPbsOnqRX+VXAAAAAAAAAAAkAAAAAAAAAIAAAAAAAAAACPctDgAAAACbwPGxsUnYOgh0cjrHOVqBy6MHRSYpZIcinlE62IdHa/2viZ+waopOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5ldEFwcCBLZXkgQmxvYgABAQAAAwAAABgBAAAAAAAAffONTgAAAAAiAAAAAAAAACgAAAAAAAAAQ5NxHQAAAAAAAAAAAAAAAAIAAAAAAAkAave0kD8tHNRBEfC/7Vpa8AAAAAAAAAAAIgAAAAAAAAAoAAAAAAAAAJl5SLMAAAAAAAAAAAAAAAACAAAAAAABAN36O9AISOc4mkbm0j9QaroAAAAAAAAAACQAAAAAAAAAgAAAAAAAAABh7zO+AAAAAFpzUtdeU1QTfRNQdKJazTTQpj00ld/ZSsrMEFx0JR4EGW9aZTi0t+kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA---------------------------END BACKUP---------------------------"[0m
[0;32m                },[0m
[0;32m                "scope": "cluster",[0m
[0;32m                "uuid": "51c77389-639e-11ee-8d2e-005056abdd29",[0m
[0;32m                "volume_encryption": {[0m
[0;32m                    "code": 0,[0m
[0;32m                    "message": "",[0m
[0;32m                    "supported": true[0m
[0;32m                }[0m
[0;32m            }[0m
[0;32m        ][0m
[0;32m    ][0m
[0;32m}[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=21  [0m [0;33mchanged=16  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-01 - Read-only Local User] *******************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-02 - Administrative Local User] **************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=24  [0m [0;33mchanged=19  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=23  [0m [0;33mchanged=18  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m rescued=0    [1;35mignored=1   [0m


PLAY [ONTAP-12-03 - Local User Access] **********************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ***************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user na_local_ro cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] ***********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] *******************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Clean-up test SVM with admin account] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=26  [0m [0;33mchanged=20  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-04 - Read-only Domain Group] *****************************************************************************************************************************************************************************************************************************************

TASK [Assign domain group read-only privileges on cluster] **************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_admin_group) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_admin_group) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=27  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-12-05 - Administrative Domain Group] ************************************************************************************************************************************************************************************************************************************

TASK [Create local users with read-only privileges] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=na_local_admin) [0m
[0;36mskipping: [cluster2] => (item=na_local_admin) [0m
[0;36mskipping: [cluster1] => (item=na_local_ro) [0m
[0;36mskipping: [cluster2] => (item=na_local_ro) [0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster1] => (item=DEMO\na_ad_ro_group) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;36mskipping: [cluster2] => (item=DEMO\na_ad_ro_group) [0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=29  [0m [0;33mchanged=23  [0m unreachable=0    failed=0    [0;36mskipped=4   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=28  [0m [0;33mchanged=22  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=1   [0m [1;35mignored=1   [0m


PLAY [ONTAP-04-06 - Domain User Access] *********************************************************************************************************************************************************************************************************************************************

TASK [Create test SVM with read-only account] ***************************************************************************************************************************************************************************************************************************************
[0;31mfatal: [cluster1]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m
[0;31mfatal: [cluster2]: FAILED! => {"changed": false, "msg": "Error in create: calling: svm/svms: got {'message': 'not authorized for that command', 'code': '6'}."}[0m

TASK [Printing rescue message - Expected error] *************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m
[0;32mok: [cluster2] => {[0m
[0;32m    "msg": [[0m
[0;32m        "This error was expected",[0m
[0;32m        "RO user DEMO\\na_ad_ro_user cannot create ressources on the cluster"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Printing rescue message - Unexpected error] ***********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Create test SVM with admin account] *******************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Clean-up test SVM with admin account] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=5   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


PLAY [TAP-12-10 - Admin Multifactor Authentication] *********************************************************************************************************************************************************************************************************************************

TASK [Create local testuser with read-only account] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=32  [0m [0;33mchanged=25  [0m unreachable=0    failed=0    [0;36mskipped=6   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m
[0;33mcluster2[0m                   : [0;32mok=31  [0m [0;33mchanged=24  [0m unreachable=0    failed=0    [0;36mskipped=7   [0m [0;32mrescued=2   [0m [1;35mignored=1   [0m


real	2m20.129s
user	0m48.218s
sys	0m7.842s


--> Data Storage Virtual Machine(SVM) Configuration

PLAY [ONTAP-20-01 - Storage Virtual Machines (SVMs)] ********************************************************************************************************************************************************************************************************************************

TASK [Create all SVMs for testing"] *************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_analytics] **********************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Patch additional SVM parameters - auto_enable_activity_tracking] **************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-02 - SVM Logical Network] ********************************************************************************************************************************************************************************************************************************************

TASK [Create network interfaces on test SVMs] ***************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m
[0;36mskipping: [cluster1] => (item=cluster1-01_ic01) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02_ic01) [0m

TASK [Configure default route on test SVMs] *****************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-03 - SVM Network Services] *******************************************************************************************************************************************************************************************************************************************

TASK [Configure DNS on test SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=6   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-20-04 - SVM Data Protocol Setup] ****************************************************************************************************************************************************************************************************************************************

TASK [Configure NFS service on SVMs] ************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v3-64bit-identifiers] *******************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Patch additional SVM NFS parameters - v4-64bit-identifiers] *******************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create active directory preferred domain controllers] *************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m

TASK [Create CIFS server on SVMs] ***************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=svm02-san)[0m

TASK [Patch additional SVM CIFS parameters - comment] *******************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1_ad) [0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=12  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	0m46.083s
user	0m15.824s
sys	0m2.806s


--> NAS Provisioning - Standard NFS Exports & SMB Shares

PLAY [ONTAP-31-01 - Export Policies & Rules] ****************************************************************************************************************************************************************************************************************************************

TASK [Create read-only export policy] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-only export policy rules for SVM root volume] *********************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Apply read-only export policy to SVM's root volume] ***************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create read-write export policy rules for SVM root volume] ********************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=5   [0m [0;33mchanged=5   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-02 - Volumes & Qtrees] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create volume] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-03 - Mount & Write (Volumes)] ****************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] ****************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Mount NFS export on Linux host] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

TASK [Create test file on each export] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=7   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-04 - FlexGroup & Qtrees] *********************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] *************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=4   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-31-05 - Mount & Write (FlexGroups)] *************************************************************************************************************************************************************************************************************************************

TASK [Ensure stale mounts are removed before proceding (in case a mount exists)] ****************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Mount NFS export on Linux host] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Create test file on each export] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=9   [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-01 - Volumes & Qtrees] ***********************************************************************************************************************************************************************************************************************************************

TASK [Create volume] ****************************************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: Cannot perform actions: modify when volume is offline.[0m
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=11  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-02 - Shares & ACLs (Volume)] *****************************************************************************************************************************************************************************************************************************************

TASK [Create shares] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] *****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] ****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-03 - Mount & Write (Volume)] *****************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Save network credentials] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

TASK [Create test file on each share] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=15  [0m [0;33mchanged=15  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-04 - FlexGroups & Qtrees] ********************************************************************************************************************************************************************************************************************************************

TASK [Create FlexGroup] *************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m

TASK [Create qtrees] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=17  [0m [0;33mchanged=17  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-05 - Shares & ACLs (FlexGroup)] **************************************************************************************************************************************************************************************************************************************

TASK [Create shares] ****************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Remove "Full Control" for "Everyone"] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (admins - Full Control)] *****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

TASK [Create ACL on test share (read-only users - Read)] ****************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [cluster1] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=4   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-32-06 - Mount & Write (FlexGroup)] **************************************************************************************************************************************************************************************************************************************

TASK [Create mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;32mok: [jumphost][0m

TASK [Save network credentials] *****************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Map shares] *******************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Create test file on each share] ***********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=8   [0m [0;33mchanged=6   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=21  [0m [0;33mchanged=21  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=8   [0m [0;33mchanged=7   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	3m18.757s
user	0m55.378s
sys	0m12.343s


--> Revert / Remove all configuration & Reset environment

PLAY [ONTAP-revert-00 - Return to Day0 - Linux] *************************************************************************************************************************************************************************************************************************************

TASK [Unmount exports] **************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;33mchanged: [centos1] => (item=ontap_31_fg_qt05)[0m

TASK [Remove mount directories] *****************************************************************************************************************************************************************************************************************************************************
[0;32mok: [centos1] => (item=ontap_31_vol_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_vol_qt05)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt01)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt02)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt03)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt04)[0m
[0;32mok: [centos1] => (item=ontap_31_fg_qt05)[0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [ONTAP-revert-00 - Return to Day0 - Windows] ***********************************************************************************************************************************************************************************************************************************

TASK [Remove mapped shares] *********************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_vol_qt05)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt01)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt02)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt03)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt04)[0m
[0;33mchanged: [jumphost] => (item=ontap_32_fg_qt05)[0m

TASK [Remove network credentials] ***************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

TASK [Remove mount directory] *******************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [jumphost][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 136, column 7, found a duplicate dict key (hostname). Using last defined value only.[0m
[1;35m[WARNING]: While constructing a mapping from /root/NetApp-ONTAP-Testplan/playbooks/ONTAP-revert-00.yml, line 218, column 7, found a duplicate dict key (use_rest). Using last defined value only.[0m

PLAY [ONTAP-revert-00 - Return to Day0 - ONTAP] *************************************************************************************************************************************************************************************************************************************

TASK [Get all non-root volumes from clusters] ***************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all volumes from clusters] *********************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster2][0m
[0;33mchanged: [cluster1] => (item={'uuid': '8ece7cba-639e-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '713dbb60-639e-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/713dbb60-639e-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/8ece7cba-639e-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'a90013c1-639e-11ee-a847-005056ab483e', 'name': 'ontap_31_nfs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '713dbb60-639e-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/713dbb60-639e-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/a90013c1-639e-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'bc09bff0-639e-11ee-a847-005056ab483e', 'name': 'ontap_32_cifs_vol01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '713dbb60-639e-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/713dbb60-639e-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/bc09bff0-639e-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': 'dc440ae6-639e-11ee-a847-005056ab483e', 'name': 'ontap_32_cifs_fg01', 'is_svm_root': False, 'svm': {'name': 'ntap-svm01-nas', 'uuid': '713dbb60-639e-11ee-a847-005056ab483e', '_links': {'self': {'href': '/api/svm/svms/713dbb60-639e-11ee-a847-005056ab483e'}}}, '_links': {'self': {'href': '/api/storage/volumes/dc440ae6-639e-11ee-a847-005056ab483e'}}})[0m

TASK [Get all SVM CIFS servers] *****************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVM CIFS servers] **************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - CLUSTER2_AD)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - CLUSTER1_AD)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - SVM01-NAS)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - SVM02-SAN)[0m

TASK [Get all SVM interfaces from clusters] *****************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Delete all SVM interfaces from clusters] **************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad - cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad - cluster1_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas - ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san - ntap-svm02-san)[0m

TASK [Get all intercluster interfaces from clusters] ********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete intercluster interfaces from clusters] *********************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2][0m

TASK [Get all SVMs] *****************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Delete all SVMs] **************************************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2_ad)[0m
[0;33mchanged: [cluster1] => (item=cluster1_ad)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm01-nas)[0m
[0;33mchanged: [cluster1] => (item=ntap-svm02-san)[0m

TASK [Get all users] ****************************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove all additional users from cluster] *************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_admin_group)[0m
[0;33mchanged: [cluster1] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster1] => (item=admin) [0m
[0;36mskipping: [cluster1] => (item=autosupport) [0m
[0;33mchanged: [cluster2] => (item=DEMO\na_ad_ro_group)[0m
[0;36mskipping: [cluster2] => (item=admin) [0m
[0;36mskipping: [cluster2] => (item=autosupport) [0m
[0;33mchanged: [cluster1] => (item=na_local_admin)[0m
[0;33mchanged: [cluster2] => (item=na_local_admin)[0m
[0;33mchanged: [cluster1] => (item=na_local_ro)[0m
[0;33mchanged: [cluster2] => (item=na_local_ro)[0m

TASK [Get all non-root aggregates] **************************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove all non-root aggregates from clusters] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'uuid': '363935fc-639e-11ee-8d2e-005056abdd29', 'name': 'cluster2_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/363935fc-639e-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '3639bac3-639e-11ee-a847-005056ab483e', 'name': 'cluster1_01_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/3639bac3-639e-11ee-a847-005056ab483e'}}})[0m
[0;33mchanged: [cluster2] => (item={'uuid': '36d406ed-639e-11ee-8d2e-005056abdd29', 'name': 'cluster2_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/36d406ed-639e-11ee-8d2e-005056abdd29'}}})[0m
[0;33mchanged: [cluster1] => (item={'uuid': '3c815b3b-639e-11ee-a847-005056ab483e', 'name': 'cluster1_02_aggr01', '_links': {'self': {'href': '/api/storage/aggregates/3c815b3b-639e-11ee-a847-005056ab483e'}}})[0m

TASK [Remove DNS config from cluster] ***********************************************************************************************************************************************************************************************************************************************
[1;35m[WARNING]: With version 22.0.0 ONTAPI (ZAPI) has been deprecated. The final ONTAP version to support ZAPI is ONTAP 9.13.1.  ZAPI calls in these modules will continue to work for ONTAP versions that supports ZAPI.  You can update your playbook to use REST by adding use_rest:[0m
[1;35malways to your playbook.  More information can be found at: https://github.com/ansible-collections/netapp.ontap[0m
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get all NTP servers from cluster] *********************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove NTP servers from cluster] **********************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster1] => (item={'server': '0.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/0.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster2] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m
[0;33mchanged: [cluster1] => (item={'server': '1.us.pool.ntp.org', '_links': {'self': {'href': '/api/cluster/ntp/servers/1.us.pool.ntp.org'}}})[0m

TASK [Reset timezone on storage cluster to Etc/UTC] *********************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2][0m
[0;33mchanged: [cluster1][0m

TASK [Remove onboard key manager configuration] *************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

TASK [Get interface groups and VLANs from cluster] **********************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster2][0m
[0;32mok: [cluster1][0m

TASK [Remove VLANs from cluster] ****************************************************************************************************************************************************************************************************************************************************
[0;36mskipping: [cluster1] => (item=cluster1-01:a0a) [0m
[0;36mskipping: [cluster1] => (item=cluster1-02:a0a) [0m
[0;36mskipping: [cluster1][0m
[0;36mskipping: [cluster2] => (item=cluster2-01:a0a) [0m
[0;36mskipping: [cluster2] => (item=cluster2-02:a0a) [0m
[0;36mskipping: [cluster2][0m

TASK [Remove interface groups from cluster] *****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster2] => (item=cluster2-01:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-01:a0a)[0m
[0;33mchanged: [cluster1] => (item=cluster1-02:a0a)[0m
[0;33mchanged: [cluster2] => (item=cluster2-02:a0a)[0m

TASK [Get broadcast domains from cluster] *******************************************************************************************************************************************************************************************************************************************
[0;32mok: [cluster1][0m
[0;32mok: [cluster2][0m

TASK [Remove broadcast domains from cluster] ****************************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1] => (item=bc_data | IPspace: Default)[0m
[0;36mskipping: [cluster1] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster1] => (item=Default | IPspace: Default) [0m
[0;33mchanged: [cluster2] => (item=bc_data | IPspace: Default)[0m
[0;36mskipping: [cluster2] => (item=Cluster | IPspace: Cluster) [0m
[0;36mskipping: [cluster2] => (item=Default | IPspace: Default) [0m

TASK [Reset banner and message of the day on cluster] *******************************************************************************************************************************************************************************************************************************
[0;33mchanged: [cluster1][0m
[0;33mchanged: [cluster2][0m

PLAY RECAP **************************************************************************************************************************************************************************************************************************************************************************
[0;33mcentos1[0m                    : [0;32mok=2   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mcluster1[0m                   : [0;32mok=23  [0m [0;33mchanged=13  [0m unreachable=0    failed=0    [0;36mskipped=2   [0m rescued=0    ignored=0   
[0;33mcluster2[0m                   : [0;32mok=22  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    [0;36mskipped=3   [0m rescued=0    ignored=0   
[0;33mjumphost[0m                   : [0;32mok=3   [0m [0;33mchanged=3   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


real	2m46.590s
user	0m45.369s
sys	0m8.982s


--> Finished!

real	9m11.568s
user	2m44.794s
sys	0m31.979s
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# [K[root@centos1 NetApp-ONTAP-Testplan]# 
]0;root@centos1:~/NetApp-ONTAP-Testplan[root@centos1 NetApp-ONTAP-Testplan]# exit
exit

Script done on Sun 08 Oct 2023 03:15:59 PM UTC
